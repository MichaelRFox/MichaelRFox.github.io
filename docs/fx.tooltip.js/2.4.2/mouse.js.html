<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>mouse.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/MichaelRFox/fxToolTip.js" target="_blank" class="menu-item" id="source_link" >Source Code</a></h2><h3>Classes</h3><ul><li><a href="Tip.html">Tip</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Tip.html#content">content</a></li><li data-type='method' style='display: none;'><a href="Tip.html#orientation">orientation</a></li><li data-type='method' style='display: none;'><a href="Tip.html#preferredOrientation">preferredOrientation</a></li><li data-type='method' style='display: none;'><a href="Tip.html#autoPosition">autoPosition</a></li><li data-type='method' style='display: none;'><a href="Tip.html#autoSize">autoSize</a></li><li data-type='method' style='display: none;'><a href="Tip.html#mousePoint">mousePoint</a></li><li data-type='method' style='display: none;'><a href="Tip.html#trackMouse">trackMouse</a></li><li data-type='method' style='display: none;'><a href="Tip.html#cursor">cursor</a></li><li data-type='method' style='display: none;'><a href="Tip.html#font">font</a></li><li data-type='method' style='display: none;'><a href="Tip.html#foregroundColor">foregroundColor</a></li><li data-type='method' style='display: none;'><a href="Tip.html#backgroundColor">backgroundColor</a></li><li data-type='method' style='display: none;'><a href="Tip.html#backgroundOpacity">backgroundOpacity</a></li><li data-type='method' style='display: none;'><a href="Tip.html#padding">padding</a></li><li data-type='method' style='display: none;'><a href="Tip.html#borderRadius">borderRadius</a></li><li data-type='method' style='display: none;'><a href="Tip.html#boxShadow">boxShadow</a></li><li data-type='method' style='display: none;'><a href="Tip.html#transitionVisible">transitionVisible</a></li><li data-type='method' style='display: none;'><a href="Tip.html#transitionHidden">transitionHidden</a></li><li data-type='method' style='display: none;'><a href="Tip.html#arrowSize">arrowSize</a></li><li data-type='method' style='display: none;'><a href="Tip.html#width">width</a></li><li data-type='method' style='display: none;'><a href="Tip.html#maxWidth">maxWidth</a></li><li data-type='method' style='display: none;'><a href="Tip.html#minWidth">minWidth</a></li><li data-type='method' style='display: none;'><a href="Tip.html#height">height</a></li><li data-type='method' style='display: none;'><a href="Tip.html#maxHeight">maxHeight</a></li><li data-type='method' style='display: none;'><a href="Tip.html#minHeight">minHeight</a></li><li data-type='method' style='display: none;'><a href="Tip.html#remove">remove</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-fxTip.html">fxTip</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-fxTip.html#~create">create</a></li><li data-type='method' style='display: none;'><a href="module-fxTip.html#~remove">remove</a></li><li data-type='method' style='display: none;'><a href="module-fxTip.html#~checkDOM">checkDOM</a></li></ul></li><li><a href="module-index.html">index</a></li><li><a href="module-init.html">init</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-init.html#~setup">setup</a></li><li data-type='method' style='display: none;'><a href="module-init.html#~closeDown">closeDown</a></li></ul></li><li><a href="module-mouse.html">mouse</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-mouse.html#~getMouseCoordinates">getMouseCoordinates</a></li><li data-type='method' style='display: none;'><a href="module-mouse.html#~suspend">suspend</a></li></ul></li><li><a href="module-options.html">options</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-options.html#~applyOptions">applyOptions</a></li><li data-type='method' style='display: none;'><a href="module-options.html#~resetOptions">resetOptions</a></li></ul></li><li><a href="module-orient.html">orient</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-orient.html#~position">position</a></li><li data-type='method' style='display: none;'><a href="module-orient.html#~optimumOrientation">optimumOrientation</a></li><li data-type='method' style='display: none;'><a href="module-orient.html#~getOrientation">getOrientation</a></li></ul></li><li><a href="module-style.html">style</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-style.html#~getRule">getRule</a></li><li data-type='method' style='display: none;'><a href="module-style.html#~getRuleIndex">getRuleIndex</a></li></ul></li><li><a href="module-tips.html">tips</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-tips.html#~getTipByElementId">getTipByElementId</a></li><li data-type='method' style='display: none;'><a href="module-tips.html#~sizeTip">sizeTip</a></li></ul></li><li><a href="module-utils.html">utils</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-utils.html#~getElementCoordinates">getElementCoordinates</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#~overlap">overlap</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#~hexToRgb">hexToRgb</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#~createPseudoDiv">createPseudoDiv</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#~parseColor">parseColor</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#~parseSize">parseSize</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#~checkSize">checkSize</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#~checkBoolean">checkBoolean</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#~checkFontFamily">checkFontFamily</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#~checkCSS">checkCSS</a></li></ul></li></ul><h3>Events</h3><ul><li><a href="module-fxTip.html#~event:detectTargetRemoval">detectTargetRemoval</a></li><li><a href="module-mouse.html#~event:mouseover">mouseover</a></li><li><a href="module-mouse.html#~event:mousemove">mousemove</a></li><li><a href="module-mouse.html#~event:mouseout">mouseout</a></li><li><a href="module-utils.html#~event:windowResized">windowResized</a></li></ul><h3>Global</h3><ul><li><a href="global.html#targetTimer">targetTimer</a></li><li><a href="global.html#sheet">sheet</a></li><li><a href="global.html#rules">rules</a></li><li><a href="global.html#ttDiv">ttDiv</a></li><li><a href="global.html#ttContainer">ttContainer</a></li><li><a href="global.html#beforeRule">beforeRule</a></li><li><a href="global.html#afterRule">afterRule</a></li><li><a href="global.html#targetRule">targetRule</a></li><li><a href="global.html#set">set</a></li><li><a href="global.html#mouseX">mouseX</a></li><li><a href="global.html#mouseY">mouseY</a></li><li><a href="global.html#tips">tips</a></li><li><a href="global.html#tipsIndex">tipsIndex</a></li><li><a href="global.html#windowWidth">windowWidth</a></li><li><a href="global.html#windowHeight">windowHeight</a></li><li><a href="global.html#aspectRatio">aspectRatio</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">mouse.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** 
 * @module mouse
 * @desc The mouse module provides three event listener functions for mouseover, mouseout, and mousemove 
 * events. Additionally, it provides a suspend function which is exposed by the
 * [default]{@link module:index~default} object, which is exported in [index.js]{@link module:index}.
 */

import {getOrientation, optimumOrientation, position} from './orient.js';
import {applyOptions, resetOptions} from './options.js';
import {tips, tipsIndex, sizeTip} from './tips.js';
import {beforeRule} from './init.js';
import {checkBoolean} from './utils.js';

/**
 * The current mouse cursor X position in the client space.
 * @type number
 * @global
 */
export let mouseX;

/**
 * The current mouse cursor Y position in the client space.
 * @type number
 * @global
 */
export let mouseY;

/**
 * Countdown timer that executes a on [mouseout]{@link module:mouse~mouseOut} event
 * to ensure that the .fxToolTip visibility CSS rule
 * is not set to hidden until the current tooltip's transition to hidden is completed.
 * @type number
 * @inner
 */ 
let timer;

/**
 * Current state of the [suspended]{@link module:mouse~suspend} toggle.
 * @type boolean
 * @inner
 */
let suspended = false;

/**
 * @function getMouseCoordinates
 * @desc Internal helper function which retrieves the current X and Y coordinates in the client window
 * and stores them in the global variables mouseX and mouseY.
 * @param {Event} event - The firing window event
 */ 
function getMouseCoordinates (event) {

    event = event || window.event;

    mouseX = event.clientX;
    mouseY = event.clientY;

}

/**
 * @function mouseOver
 * @desc Fires when the cursor hovers over a DOM element that has a tooltip associated with it.
 * @param {Event} event - The firing event.
 * @event mouseover
 */
export function mouseOver (event) {
    
    event = event || window.event;

    if (suspend()) {return};
    
    let targetElement = this;
    let target;

    if (beforeRule.visibility !== 'hidden') { //executed if another tooltip is transitioning to hidden
        beforeRule.transition = ''; 
        clearTimeout(timer);
    };

    beforeRule.visibility = 'visible';

    getMouseCoordinates(event);

    target = tips[tipsIndex.indexOf(targetElement.id)];

    applyOptions(target);

    let orientation = getOrientation(targetElement, target);

    position(targetElement, target, orientation);
    beforeRule.opacity = target.backgroundOpacity();
}

/**
 * @function mouseMove
 * @desc Fires when the cursor moves over a DOM element that has a tooltip associated with it.
 * @param {event} event - The firing window event.
 * @event mousemove
 */
export function mouseMove (event) {

    event = event || window.event;
    
    if (suspend()) {return};
    
    let targetElement = this;
    let target;
    
    target = tips[tipsIndex.indexOf(targetElement.id)];
    if (!target.trackMouse()) { return; };

    getMouseCoordinates(event);

    let orientation = getOrientation(targetElement, target);

    position(targetElement, target, orientation);
}

/**
 * @function mouseOut
 * @desc Fires when the cursor leaves a DOM element that has a tooltip associated with it.
 * @param {event} event - The firing window event.
 * @event mouseout
 */
export function mouseOut (event) {

    event = event || window.event;

    let targetElement = this;

    if (window.getComputedStyle(targetElement, null).getPropertyValue('opacity') == 0 &amp;&amp; suspend()) {
        return;
    };

    let target = tips[tipsIndex.indexOf(targetElement.id)];
    let transitionString = target.transitionHidden();
    let transitionDuration = +transitionString.split(' ')[1].replace('s', '');
    let transitionDelay = +transitionString.split(' ')[3].replace('s', '');

    beforeRule.transition = transitionString;
    beforeRule['-moz-transition'] = transitionString;
    beforeRule['-webkit-transiton'] = transitionString;
    beforeRule['-o-transition'] = transitionString;

    timer = window.setTimeout(function() { // ensures the visibility isn't set to hidden until the transition completes
        beforeRule.visibility = 'hidden';
        resetOptions(target);
        },
        (transitionDuration + transitionDelay) * 1000);
    beforeRule.opacity = 0;

}

/** 
 * @function suspend
 * @desc This method is useful for temporarily suspending and re-enabling tooltips globally
 *  in such cases where other on-screen interaction may be interfered with by the tooltips.
 * @param {boolean} suspendTips Whether or not to suspend toolTips.
 * @returns {(boolean | undefined)} If the method is called without the suspendTips argument, the method 
 * returns the current state of tooltips (true for suspended, false for enabled). 
 * Otherwise, nothing is returned.
 */ 
export function suspend (suspendTips) {
    if (suspendTips == undefined) {return suspended};
    if (checkBoolean(suspendTips, 'suspend')) {
        suspended = suspendTips;
    };

}</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.10</a> on Thu Feb 03 2022 15:08:57 GMT-0500 (Eastern Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
